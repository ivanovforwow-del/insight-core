{"version":3,"sources":["../../../../src/hooks/data/useEventData.ts","../../../../src/services/eventService.ts","../../../../node_modules/%40ant-design/icons/es/icons/CheckCircleOutlined.js","../../../../node_modules/%40ant-design/icons-svg/es/asn/CheckCircleOutlined.js","../../../../node_modules/%40ant-design/icons/es/icons/VideoCameraOutlined.js","../../../../node_modules/%40ant-design/icons-svg/es/asn/VideoCameraOutlined.js"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { eventService } from '../../services/eventService';\nimport { Event } from '../../types';\n\n// Query keys for event data\nconst EVENT_QUERY_KEYS = {\n  all: ['events'] as const,\n  lists: () => [...EVENT_QUERY_KEYS.all, 'list'] as const,\n  list: (params?: any) => [...EVENT_QUERY_KEYS.lists(), params] as const,\n  details: () => [...EVENT_QUERY_KEYS.all, 'detail'] as const,\n  detail: (id: number) => [...EVENT_QUERY_KEYS.details(), id] as const,\n  recent: (limit?: number) => [...EVENT_QUERY_KEYS.all, 'recent', limit] as const,\n  byCamera: (cameraId: number, params?: any) => [...EVENT_QUERY_KEYS.all, 'byCamera', cameraId, params] as const,\n stats: (params?: any) => [...EVENT_QUERY_KEYS.all, 'stats', params] as const,\n};\n\nexport const useEvents = (params?: {\n  page?: number;\n  limit?: number;\n  startDate?: string;\n  endDate?: string;\n  cameraId?: number;\n  objectType?: string;\n  severity?: string;\n  search?: string;\n}) => {\n  return useQuery({\n    queryKey: EVENT_QUERY_KEYS.list(params),\n    queryFn: () => eventService.getEvents(params),\n    staleTime: 30 * 1000, // 30 seconds\n  });\n};\n\nexport const useEvent = (id: number) => {\n  return useQuery({\n    queryKey: EVENT_QUERY_KEYS.detail(id),\n    queryFn: () => eventService.getEventById(id),\n    enabled: !!id,\n  });\n};\n\nexport const useRecentEvents = (limit: number = 10) => {\n  return useQuery({\n    queryKey: EVENT_QUERY_KEYS.recent(limit),\n    queryFn: () => eventService.getRecentEvents(limit),\n    staleTime: 60 * 100, // 1 minute\n  });\n};\n\nexport const useEventsByCamera = (cameraId: number, params?: {\n  page?: number;\n  limit?: number;\n  startDate?: string;\n  endDate?: string;\n  objectType?: string;\n  severity?: string;\n}) => {\n  return useQuery({\n    queryKey: EVENT_QUERY_KEYS.byCamera(cameraId, params),\n    queryFn: () => eventService.getEventsByCamera(cameraId, params),\n    enabled: !!cameraId,\n    staleTime: 30 * 100, // 30 seconds\n  });\n};\n\nexport const useEventsStats = (params?: {\n  startDate?: string;\n  endDate?: string;\n  cameraId?: number;\n}) => {\n  return useQuery({\n    queryKey: EVENT_QUERY_KEYS.stats(params),\n    queryFn: () => eventService.getEventsStats(params),\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n};\n\nexport const useUpdateEventStatus = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, resolved }: { id: number; resolved: boolean }) => \n      eventService.updateEventStatus(id, resolved),\n    onSuccess: (_, { id }) => {\n      queryClient.invalidateQueries({ queryKey: EVENT_QUERY_KEYS.detail(id) });\n      queryClient.invalidateQueries({ queryKey: EVENT_QUERY_KEYS.lists() });\n    },\n  });\n};\n\nexport const useDeleteEvent = () => {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (id: number) => eventService.deleteEvent(id),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: EVENT_QUERY_KEYS.lists() });\n    },\n  });\n};","import apiClient from './api';\nimport { Event } from '../types';\n\nconst EVENT_API_ENDPOINT = '/events';\n\nexport const eventService = {\n  // Get all events\n  getEvents: async (params?: {\n    page?: number;\n    limit?: number;\n    startDate?: string;\n    endDate?: string;\n    cameraId?: number;\n    objectType?: string;\n    severity?: string;\n    search?: string;\n  }): Promise<{ data: Event[]; total: number; page: number; limit: number }> => {\n    const response = await apiClient.get<{ data: Event[]; total: number; page: number; limit: number }>(EVENT_API_ENDPOINT, { params });\n    return response.data;\n  },\n\n  // Get event by ID\n  getEventById: async (id: number): Promise<Event> => {\n    const response = await apiClient.get<Event>(`${EVENT_API_ENDPOINT}/${id}`);\n    return response.data;\n  },\n\n  // Get recent events\n  getRecentEvents: async (limit: number = 10): Promise<Event[]> => {\n    const response = await apiClient.get<Event[]>(`${EVENT_API_ENDPOINT}/recent`, { \n      params: { limit } \n    });\n    return response.data;\n  },\n\n  // Get events by camera\n  getEventsByCamera: async (cameraId: number, params?: {\n    page?: number;\n    limit?: number;\n    startDate?: string;\n    endDate?: string;\n    objectType?: string;\n    severity?: string;\n  }): Promise<{ data: Event[]; total: number; page: number; limit: number }> => {\n    const response = await apiClient.get<{ data: Event[]; total: number; page: number; limit: number }>(\n      `${EVENT_API_ENDPOINT}/camera/${cameraId}`, \n      { params }\n    );\n    return response.data;\n  },\n\n  // Get events statistics\n  getEventsStats: async (params?: {\n    startDate?: string;\n    endDate?: string;\n    cameraId?: number;\n }): Promise<{\n    total: number;\n    byType: { type: string; count: number }[];\n    byHour: { hour: string; count: number }[];\n    byDay: { date: string; count: number }[];\n  }> => {\n    const response = await apiClient.get<{\n      total: number;\n      byType: { type: string; count: number }[];\n      byHour: { hour: string; count: number }[];\n      byDay: { date: string; count: number }[];\n    }>(`${EVENT_API_ENDPOINT}/stats`, { params });\n    return response.data;\n  },\n\n  // Update event status\n  updateEventStatus: async (id: number, resolved: boolean): Promise<Event> => {\n    const response = await apiClient.patch<Event>(`${EVENT_API_ENDPOINT}/${id}/status`, {\n      resolved,\n    });\n    return response.data;\n  },\n\n  // Delete event\n  deleteEvent: async (id: number): Promise<void> => {\n    await apiClient.delete(`${EVENT_API_ENDPOINT}/${id}`);\n  },\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport CheckCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/CheckCircleOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar CheckCircleOutlined = function CheckCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: CheckCircleOutlinedSvg\n  }));\n};\n\n/**![check-circle](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTY5OSAzNTNoLTQ2LjljLTEwLjIgMC0xOS45IDQuOS0yNS45IDEzLjNMNDY5IDU4NC4zbC03MS4yLTk4LjhjLTYtOC4zLTE1LjYtMTMuMy0yNS45LTEzLjNIMzI1Yy02LjUgMC0xMC4zIDcuNC02LjUgMTIuN2wxMjQuNiAxNzIuOGEzMS44IDMxLjggMCAwMDUxLjcgMGwyMTAuNi0yOTJjMy45LTUuMy4xLTEyLjctNi40LTEyLjd6IiAvPjxwYXRoIGQ9Ik01MTIgNjRDMjY0LjYgNjQgNjQgMjY0LjYgNjQgNTEyczIwMC42IDQ0OCA0NDggNDQ4IDQ0OC0yMDAuNiA0NDgtNDQ4Uzc1OS40IDY0IDUxMiA2NHptMCA4MjBjLTIwNS40IDAtMzcyLTE2Ni42LTM3Mi0zNzJzMTY2LjYtMzcyIDM3Mi0zNzIgMzcyIDE2Ni42IDM3MiAzNzItMTY2LjYgMzcyLTM3MiAzNzJ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(CheckCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'CheckCircleOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar CheckCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"check-circle\", \"theme\": \"outlined\" };\nexport default CheckCircleOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport VideoCameraOutlinedSvg from \"@ant-design/icons-svg/es/asn/VideoCameraOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar VideoCameraOutlined = function VideoCameraOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: VideoCameraOutlinedSvg\n  }));\n};\n\n/**![video-camera](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkxMiAzMDIuM0w3ODQgMzc2VjIyNGMwLTM1LjMtMjguNy02NC02NC02NEgxMjhjLTM1LjMgMC02NCAyOC43LTY0IDY0djU3NmMwIDM1LjMgMjguNyA2NCA2NCA2NGg1OTJjMzUuMyAwIDY0LTI4LjcgNjQtNjRWNjQ4bDEyOCA3My43YzIxLjMgMTIuMyA0OC0zLjEgNDgtMjcuNlYzMzBjMC0yNC42LTI2LjctNDAtNDgtMjcuN3pNNzEyIDc5MkgxMzZWMjMyaDU3NnY1NjB6bTE3Ni0xNjdsLTEwNC01OS44VjQ1OC45TDg4OCAzOTl2MjI2ek0yMDggMzYwaDExMmM0LjQgMCA4LTMuNiA4LTh2LTQ4YzAtNC40LTMuNi04LTgtOEgyMDhjLTQuNCAwLTggMy42LTggOHY0OGMwIDQuNCAzLjYgOCA4IDh6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(VideoCameraOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'VideoCameraOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar VideoCameraOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560zm176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z\" } }] }, \"name\": \"video-camera\", \"theme\": \"outlined\" };\nexport default VideoCameraOutlined;\n"],"names":[],"mappings":"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","ignoreList":[2,3,4,5]}