module.exports=[859750,a=>{"use strict";var b=a.i(539705),c=a.i(572131);let d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var e=a.i(124958),f=c.forwardRef(function(a,f){return c.createElement(e.default,(0,b.default)({},a,{ref:f,icon:d}))});a.s(["CheckCircleOutlined",0,f],859750)},828864,a=>{"use strict";var b=a.i(502888);a.s(["EyeOutlined",()=>b.default])},292310,a=>{"use strict";var b=a.i(210095);a.s(["DatePicker",()=>b.default])},971306,a=>{"use strict";var b=a.i(603591);a.s(["Table",()=>b.default])},27730,a=>{"use strict";var b=a.i(549396);a.s(["Select",()=>b.default])},255565,a=>{"use strict";var b=a.i(140529);a.s(["Card",()=>b.default])},835371,a=>{"use strict";var b=a.i(158501);a.s(["Typography",()=>b.default])},276130,a=>{"use strict";var b=a.i(731821);a.s(["Space",()=>b.default])},268186,a=>{"use strict";var b=a.i(392100);a.s(["Tag",()=>b.default])},925125,470671,a=>{"use strict";var b=a.i(624771);a.s(["Row",()=>b.default],925125);var c=a.i(283330);a.s(["Col",()=>c.default],470671)},749281,a=>{"use strict";var b=a.i(312238);a.s(["Button",()=>b.default])},327387,a=>{"use strict";var b=a.i(262032);a.s(["Modal",()=>b.default])},936100,a=>{"use strict";var b=a.i(433217),c=a.i(370025),d=a.i(937927),e=a.i(457792);let f="/alerts",g=async a=>(await e.default.get(f,{params:a})).data,h=async a=>(await e.default.patch(`${f}/${a}/read`)).data,i=async()=>{await e.default.patch(`${f}/read-all`)},j=async a=>{await e.default.delete(`${f}/${a}`)},k=async()=>{await e.default.delete(`${f}/all`)},l={all:["alerts"],lists:()=>[...l.all,"list"],list:a=>[...l.lists(),a],details:()=>[...l.all,"detail"],detail:a=>[...l.details(),a],unreadCount:()=>[...l.all,"unreadCount"],recent:a=>[...l.all,"recent",a]};a.s(["useAlerts",0,a=>(0,b.useQuery)({queryKey:l.list(a),queryFn:()=>g(a),staleTime:3e3}),"useDeleteAlert",0,()=>{let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>j(a),onSuccess:()=>{a.invalidateQueries({queryKey:l.lists()}),a.invalidateQueries({queryKey:l.unreadCount()})}})},"useDeleteAllAlerts",0,()=>{let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:()=>k(),onSuccess:()=>{a.invalidateQueries({queryKey:l.lists()}),a.invalidateQueries({queryKey:l.unreadCount()})}})},"useMarkAlertAsRead",0,()=>{let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>h(a),onSuccess:(b,c)=>{a.invalidateQueries({queryKey:l.detail(c)}),a.invalidateQueries({queryKey:l.lists()}),a.invalidateQueries({queryKey:l.unreadCount()})}})},"useMarkAllAlertsAsRead",0,()=>{let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:()=>i(),onSuccess:()=>{a.invalidateQueries({queryKey:l.lists()}),a.invalidateQueries({queryKey:l.unreadCount()})}})}],936100)},538153,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(255565),e=a.i(971306),f=a.i(835371),g=a.i(276130),h=a.i(268186),i=a.i(749281),j=a.i(327387),k=a.i(292310),l=a.i(27730),m=a.i(183772),n=a.i(164267),o=a.i(925125),p=a.i(470671),q=a.i(210998),r=a.i(828864),s=a.i(859750),t=a.i(735408),u=a.i(215336),v=a.i(930879),w=a.i(539705);let x={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var y=a.i(124958),z=c.forwardRef(function(a,b){return c.createElement(y.default,(0,w.default)({},a,{ref:b,icon:x}))});let A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};var B=c.forwardRef(function(a,b){return c.createElement(y.default,(0,w.default)({},a,{ref:b,icon:A}))}),C=a.i(418213),D=a.i(936100);let{Title:E}=f.Typography,{RangePicker:F}=k.DatePicker,{Option:G}=l.Select;a.s(["default",0,()=>{let[a,k]=(0,c.useState)(!1),[w,x]=(0,c.useState)({}),[y,A]=(0,c.useState)(null),{data:H={data:[],total:0,page:1,limit:10},isLoading:I}=(0,D.useAlerts)(w),J=(0,D.useMarkAlertAsRead)();(0,D.useMarkAllAlertsAsRead)(),(0,D.useDeleteAlert)();let K=(0,D.useDeleteAllAlerts)(),L={info:"blue",warning:"orange",error:"red",success:"green"},M={info:(0,b.jsx)(B,{}),warning:(0,b.jsx)(q.AlertOutlined,{}),error:(0,b.jsx)(z,{}),success:(0,b.jsx)(s.CheckCircleOutlined,{})},N=[{title:"ID",dataIndex:"id",key:"id",sorter:(a,b)=>a.id-b.id},{title:"Title",dataIndex:"title",key:"title",sorter:(a,b)=>a.title.localeCompare(b.title)},{title:"Message",dataIndex:"message",key:"message"},{title:"Type",dataIndex:"type",key:"type",render:a=>(0,b.jsx)(h.Tag,{color:L[a],icon:M[a],children:a.toUpperCase()}),sorter:(a,b)=>a.type.localeCompare(b.type),filters:[{text:"Info",value:"info"},{text:"Warning",value:"warning"},{text:"Error",value:"error"},{text:"Success",value:"success"}],onFilter:(a,b)=>b.type===a},{title:"Timestamp",dataIndex:"timestamp",key:"timestamp",sorter:(a,b)=>(0,C.default)(a.timestamp).diff((0,C.default)(b.timestamp))},{title:"Status",key:"read",render:(a,c)=>(0,b.jsx)(n.Badge,{status:c.read?"success":"error",text:c.read?"Read":"Unread"}),filters:[{text:"Read",value:!0},{text:"Unread",value:!1}],onFilter:(a,b)=>b.read===a},{title:"Actions",key:"actions",render:(a,c)=>(0,b.jsxs)(g.Space,{size:"middle",children:[(0,b.jsx)(i.Button,{type:"link",icon:(0,b.jsx)(r.EyeOutlined,{}),onClick:()=>A(c),children:"View"}),!c.read&&(0,b.jsx)(i.Button,{type:"link",icon:(0,b.jsx)(s.CheckCircleOutlined,{}),onClick:()=>J.mutate(c.id),loading:J.isPending&&J.variables===c.id,children:"Mark Read"}),(0,b.jsx)(i.Button,{type:"link",icon:(0,b.jsx)(v.DownloadOutlined,{}),onClick:()=>console.log("Download alert details:",c),children:"Export"})]})}],O=a=>{x({...w,...a})};return(0,b.jsxs)("div",{style:{padding:"24px"},children:[(0,b.jsxs)(o.Row,{justify:"space-between",align:"middle",style:{marginBottom:24},children:[(0,b.jsx)(p.Col,{children:(0,b.jsxs)(E,{level:2,children:[(0,b.jsx)(q.AlertOutlined,{})," Alerts"]})}),(0,b.jsx)(p.Col,{children:(0,b.jsxs)(g.Space,{children:[(0,b.jsx)(i.Button,{danger:!0,onClick:()=>{j.Modal.confirm({title:"Clear All Alerts",content:"Are you sure you want to clear all alerts?",onOk:()=>K.mutate()})},loading:K.isPending,children:"Clear All"}),(0,b.jsx)(F,{onChange:(a,b)=>{if(a)O({startDate:b[0],endDate:b[1]});else{let a={...w};delete a.startDate,delete a.endDate,x(a)}}}),(0,b.jsx)(i.Button,{icon:(0,b.jsx)(t.FilterOutlined,{}),onClick:()=>k(!a),children:"Filters"})]})})]}),a&&(0,b.jsx)(d.Card,{style:{marginBottom:24},children:(0,b.jsxs)(o.Row,{gutter:16,children:[(0,b.jsx)(p.Col,{span:8,children:(0,b.jsxs)(l.Select,{style:{width:"100%"},placeholder:"Filter by type",onChange:a=>O({type:a}),allowClear:!0,children:[(0,b.jsx)(G,{value:"info",children:"Info"}),(0,b.jsx)(G,{value:"warning",children:"Warning"}),(0,b.jsx)(G,{value:"error",children:"Error"}),(0,b.jsx)(G,{value:"success",children:"Success"})]})}),(0,b.jsx)(p.Col,{span:8,children:(0,b.jsxs)(l.Select,{style:{width:"100%"},placeholder:"Filter by status",onChange:a=>O({read:a}),allowClear:!0,children:[(0,b.jsx)(G,{value:!0,children:"Read"}),(0,b.jsx)(G,{value:!1,children:"Unread"})]})}),(0,b.jsx)(p.Col,{span:8,children:(0,b.jsx)(m.Input,{placeholder:"Search alerts...",prefix:(0,b.jsx)(u.SearchOutlined,{}),onChange:a=>O({search:a.target.value})})})]})}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(e.Table,{columns:N,dataSource:H.data,loading:I||J.isPending,rowKey:"id",pagination:{pageSize:H.limit,total:H.total,current:H.page,onChange:(a,b)=>x({...w,page:a,limit:b})},scroll:{x:1200}})}),(0,b.jsx)(j.Modal,{title:"Alert Details",open:!!y,onCancel:()=>A(null),footer:[(0,b.jsx)(i.Button,{onClick:()=>A(null),children:"Close"},"close")],children:y&&(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Typography.Title,{level:4,children:y.title}),(0,b.jsxs)(f.Typography.Paragraph,{children:[(0,b.jsx)("strong",{children:"Message:"})," ",y.message]}),(0,b.jsxs)(f.Typography.Paragraph,{children:[(0,b.jsx)("strong",{children:"Type:"})," ",y.type.toUpperCase()]}),(0,b.jsxs)(f.Typography.Paragraph,{children:[(0,b.jsx)("strong",{children:"Timestamp:"})," ",y.timestamp]}),(0,b.jsxs)(f.Typography.Paragraph,{children:[(0,b.jsx)("strong",{children:"Status:"})," ",y.read?"Read":"Unread"]})]})})]})}],538153)}];

//# sourceMappingURL=_c20c26b9._.js.map