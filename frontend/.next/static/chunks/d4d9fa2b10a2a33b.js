(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,123521,e=>{"use strict";var t=e.i(984125);e.s(["EyeOutlined",()=>t.default])},175712,e=>{"use strict";var t=e.i(226240);e.s(["Card",()=>t.default])},898586,e=>{"use strict";var t=e.i(777380);e.s(["Typography",()=>t.default])},770914,e=>{"use strict";var t=e.i(38243);e.s(["Space",()=>t.default])},262218,e=>{"use strict";var t=e.i(746885);e.s(["Tag",()=>t.default])},621192,178654,e=>{"use strict";var t=e.i(649536);e.s(["Row",()=>t.default],621192);var s=e.i(571610);e.s(["Col",()=>s.default],178654)},464571,e=>{"use strict";var t=e.i(920228);e.s(["Button",()=>t.default])},212931,e=>{"use strict";var t=e.i(687518);e.s(["Modal",()=>t.default])},799718,e=>{"use strict";var t=e.i(266027),s=e.i(954616),i=e.i(912598),a=e.i(816973);let r="/events",l=async e=>(await a.default.get(r,{params:e})).data,n=async e=>(await a.default.get("".concat(r,"/stats"),{params:e})).data,o=async(e,t)=>(await a.default.patch("".concat(r,"/").concat(e,"/status"),{resolved:t})).data,h=async e=>{await a.default.delete("".concat(r,"/").concat(e))},u={all:["events"],lists:()=>[...u.all,"list"],list:e=>[...u.lists(),e],details:()=>[...u.all,"detail"],detail:e=>[...u.details(),e],recent:e=>[...u.all,"recent",e],byCamera:(e,t)=>[...u.all,"byCamera",e,t],stats:e=>[...u.all,"stats",e]};e.s(["useDeleteEvent",0,()=>{let e=(0,i.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>h(e),onSuccess:()=>{e.invalidateQueries({queryKey:u.lists()})}})},"useEvents",0,e=>(0,t.useQuery)({queryKey:u.list(e),queryFn:()=>l(e),staleTime:3e4}),"useEventsStats",0,e=>(0,t.useQuery)({queryKey:u.stats(e),queryFn:()=>n(e),staleTime:3e5}),"useUpdateEventStatus",0,()=>{let e=(0,i.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>{let{id:t,resolved:s}=e;return o(t,s)},onSuccess:(t,s)=>{let{id:i}=s;e.invalidateQueries({queryKey:u.detail(i)}),e.invalidateQueries({queryKey:u.lists()})}})}],799718)},291542,e=>{"use strict";var t=e.i(221479);e.s(["Table",()=>t.default])},199133,e=>{"use strict";var t=e.i(327494);e.s(["Select",()=>t.default])},857521,266027,954616,e=>{"use strict";let t;e.i(247167);var s,i,a,r,l,n,o,h,u,c,d,p,v,_,f,y,m,b,g,w,x,C,j,S,k,O,R,T,E,M,W=e.i(931067),P=e.i(271645);let D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M193 796c0 17.7 14.3 32 32 32h574c17.7 0 32-14.3 32-32V563c0-176.2-142.8-319-319-319S193 386.8 193 563v233zm72-233c0-136.4 110.6-247 247-247s247 110.6 247 247v193H404V585c0-5.5-4.5-10-10-10h-44c-5.5 0-10 4.5-10 10v171h-75V563zm-48.1-252.5l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3l-67.9-67.9a8.03 8.03 0 00-11.3 0l-39.6 39.6a8.03 8.03 0 000 11.3l67.9 67.9c3.1 3.1 8.1 3.1 11.3 0zm669.6-79.2l-39.6-39.6a8.03 8.03 0 00-11.3 0l-67.9 67.9a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l67.9-67.9c3.1-3.2 3.1-8.2 0-11.3zM832 892H192c-17.7 0-32 14.3-32 32v24c0 4.4 3.6 8 8 8h688c4.4 0 8-3.6 8-8v-24c0-17.7-14.3-32-32-32zM484 180h56c4.4 0 8-3.6 8-8V76c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v96c0 4.4 3.6 8 8 8z"}}]},name:"alert",theme:"outlined"};var Q=e.i(9583),U=P.forwardRef(function(e,t){return P.createElement(Q.default,(0,W.default)({},e,{ref:t,icon:D}))});e.s(["AlertOutlined",0,U],857521);var I=e.i(739946),F=e.i(470292),q=e.i(62351),B=e.i(337696),K=e.i(788245);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}var L=e.i(120786),z=e.i(92808),H=e.i(175555),V=e.i(540143),N=e.i(286491),G=e.i(915823),J=e.i(793803),X=e.i(619273),Y=e.i(180166),Z=(s=new WeakMap,i=new WeakMap,a=new WeakMap,r=new WeakMap,l=new WeakMap,n=new WeakMap,o=new WeakMap,h=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakMap,_=new WeakMap,f=new WeakMap,y=new WeakSet,m=new WeakSet,b=new WeakSet,g=new WeakSet,w=new WeakSet,x=new WeakSet,C=new WeakSet,j=new WeakSet,S=new WeakSet,class extends G.Subscribable{bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,I._)(this,i).addObserver(this),$((0,I._)(this,i),this.options)?(0,B._)(this,y,ei).call(this):this.updateResult(),(0,B._)(this,w,en).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ee((0,I._)(this,i),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ee((0,I._)(this,i),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,B._)(this,x,eo).call(this),(0,B._)(this,C,eh).call(this),(0,I._)(this,i).removeObserver(this)}setOptions(e){let t=this.options,a=(0,I._)(this,i);if(this.options=(0,I._)(this,s).defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,X.resolveEnabled)(this.options.enabled,(0,I._)(this,i)))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,B._)(this,j,eu).call(this),(0,I._)(this,i).setOptions(this.options),t._defaulted&&!(0,X.shallowEqualObjects)(this.options,t)&&(0,I._)(this,s).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,I._)(this,i),observer:this});let r=this.hasListeners();r&&et((0,I._)(this,i),a,this.options,t)&&(0,B._)(this,y,ei).call(this),this.updateResult(),r&&((0,I._)(this,i)!==a||(0,X.resolveEnabled)(this.options.enabled,(0,I._)(this,i))!==(0,X.resolveEnabled)(t.enabled,(0,I._)(this,i))||(0,X.resolveStaleTime)(this.options.staleTime,(0,I._)(this,i))!==(0,X.resolveStaleTime)(t.staleTime,(0,I._)(this,i)))&&(0,B._)(this,m,ea).call(this);let l=(0,B._)(this,b,er).call(this);r&&((0,I._)(this,i)!==a||(0,X.resolveEnabled)(this.options.enabled,(0,I._)(this,i))!==(0,X.resolveEnabled)(t.enabled,(0,I._)(this,i))||l!==(0,I._)(this,_))&&(0,B._)(this,g,el).call(this,l)}getOptimisticResult(e){var t,a;let o=(0,I._)(this,s).getQueryCache().build((0,I._)(this,s),e),h=this.createResult(o,e);return t=this,a=h,(0,X.shallowEqualObjects)(t.getCurrentResult(),a)||((0,q._)(this,r,h),(0,q._)(this,n,this.options),(0,q._)(this,l,(0,I._)(this,i).state)),h}getCurrentResult(){return(0,I._)(this,r)}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),null==t||t(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==(0,I._)(this,o).status||(0,I._)(this,o).reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){(0,I._)(this,f).add(e)}getCurrentQuery(){return(0,I._)(this,i)}refetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=A({},function(e){if(null==e)throw TypeError("Cannot destructure "+e);return e}(e));return this.fetch((0,L._)({},t))}fetchOptimistic(e){let t=(0,I._)(this,s).defaultQueryOptions(e),i=(0,I._)(this,s).getQueryCache().build((0,I._)(this,s),t);return i.fetch().then(()=>this.createResult(i,t))}fetch(e){var t;return(0,B._)(this,y,ei).call(this,(0,z._)((0,L._)({},e),{cancelRefetch:null==(t=e.cancelRefetch)||t})).then(()=>(this.updateResult(),(0,I._)(this,r)))}createResult(e,t){let s,p=(0,I._)(this,i),v=this.options,_=(0,I._)(this,r),f=(0,I._)(this,l),y=(0,I._)(this,n),m=e!==p?e.state:(0,I._)(this,a),{state:b}=e,g=(0,L._)({},b),w=!1;if(t._optimisticResults){let s=this.hasListeners(),i=!s&&$(e,t),a=s&&et(e,p,t,v);(i||a)&&(g=(0,L._)({},g,(0,N.fetchState)(b.data,e.options))),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:x,errorUpdatedAt:C,status:j}=g;s=g.data;let S=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===j){let e;if((null==_?void 0:_.isPlaceholderData)&&t.placeholderData===(null==y?void 0:y.placeholderData))e=_.data,S=!0;else{var k;e="function"==typeof t.placeholderData?t.placeholderData(null==(k=(0,I._)(this,d))?void 0:k.state.data,(0,I._)(this,d)):t.placeholderData}void 0!==e&&(j="success",s=(0,X.replaceData)(null==_?void 0:_.data,e,t),w=!0)}if(t.select&&void 0!==s&&!S)if(_&&s===(null==f?void 0:f.data)&&t.select===(0,I._)(this,u))s=(0,I._)(this,c);else try{(0,q._)(this,u,t.select),s=t.select(s),s=(0,X.replaceData)(null==_?void 0:_.data,s,t),(0,q._)(this,c,s),(0,q._)(this,h,null)}catch(e){(0,q._)(this,h,e)}(0,I._)(this,h)&&(x=(0,I._)(this,h),s=(0,I._)(this,c),C=Date.now(),j="error");let O="fetching"===g.fetchStatus,R="pending"===j,T="error"===j,E=R&&O,M=void 0!==s,W={status:j,fetchStatus:g.fetchStatus,isPending:R,isSuccess:"success"===j,isError:T,isInitialLoading:E,isLoading:E,data:s,dataUpdatedAt:g.dataUpdatedAt,error:x,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:O,isRefetching:O&&!R,isLoadingError:T&&!M,isPaused:"paused"===g.fetchStatus,isPlaceholderData:w,isRefetchError:T&&M,isStale:es(e,t),refetch:this.refetch,promise:(0,I._)(this,o),isEnabled:!1!==(0,X.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===W.status?e.reject(W.error):void 0!==W.data&&e.resolve(W.data)},s=()=>{t((0,q._)(this,o,W.promise=(0,J.pendingThenable)()))},i=(0,I._)(this,o);switch(i.status){case"pending":e.queryHash===p.queryHash&&t(i);break;case"fulfilled":("error"===W.status||W.data!==i.value)&&s();break;case"rejected":("error"!==W.status||W.error!==i.reason)&&s()}}return W}updateResult(){let e=(0,I._)(this,r),t=this.createResult((0,I._)(this,i),this.options);if((0,q._)(this,l,(0,I._)(this,i).state),(0,q._)(this,n,this.options),void 0!==(0,I._)(this,l).data&&(0,q._)(this,d,(0,I._)(this,i)),(0,X.shallowEqualObjects)(t,e))return;(0,q._)(this,r,t);let s=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!(0,I._)(this,f).size)return!0;let i=new Set(null!=s?s:(0,I._)(this,f));return this.options.throwOnError&&i.add("error"),Object.keys((0,I._)(this,r)).some(t=>(0,I._)(this,r)[t]!==e[t]&&i.has(t))};(0,B._)(this,S,ec).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,B._)(this,w,en).call(this)}constructor(e,t){super(),(0,K._)(this,y),(0,K._)(this,m),(0,K._)(this,b),(0,K._)(this,g),(0,K._)(this,w),(0,K._)(this,x),(0,K._)(this,C),(0,K._)(this,j),(0,K._)(this,S),(0,F._)(this,s,{writable:!0,value:void 0}),(0,F._)(this,i,{writable:!0,value:void 0}),(0,F._)(this,a,{writable:!0,value:void 0}),(0,F._)(this,r,{writable:!0,value:void 0}),(0,F._)(this,l,{writable:!0,value:void 0}),(0,F._)(this,n,{writable:!0,value:void 0}),(0,F._)(this,o,{writable:!0,value:void 0}),(0,F._)(this,h,{writable:!0,value:void 0}),(0,F._)(this,u,{writable:!0,value:void 0}),(0,F._)(this,c,{writable:!0,value:void 0}),(0,F._)(this,d,{writable:!0,value:void 0}),(0,F._)(this,p,{writable:!0,value:void 0}),(0,F._)(this,v,{writable:!0,value:void 0}),(0,F._)(this,_,{writable:!0,value:void 0}),(0,F._)(this,f,{writable:!0,value:new Set}),this.options=t,(0,q._)(this,s,e),(0,q._)(this,h,null),(0,q._)(this,o,(0,J.pendingThenable)()),this.bindMethods(),this.setOptions(t)}});function $(e,t){return!1!==(0,X.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&ee(e,t,t.refetchOnMount)}function ee(e,t,s){if(!1!==(0,X.resolveEnabled)(t.enabled,e)&&"static"!==(0,X.resolveStaleTime)(t.staleTime,e)){let i="function"==typeof s?s(e):s;return"always"===i||!1!==i&&es(e,t)}return!1}function et(e,t,s,i){return(e!==t||!1===(0,X.resolveEnabled)(i.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&es(e,s)}function es(e,t){return!1!==(0,X.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,X.resolveStaleTime)(t.staleTime,e))}function ei(e){(0,B._)(this,j,eu).call(this);let t=(0,I._)(this,i).fetch(this.options,e);return(null==e?void 0:e.throwOnError)||(t=t.catch(X.noop)),t}function ea(){(0,B._)(this,x,eo).call(this);let e=(0,X.resolveStaleTime)(this.options.staleTime,(0,I._)(this,i));if(X.isServer||(0,I._)(this,r).isStale||!(0,X.isValidTimeout)(e))return;let t=(0,X.timeUntilStale)((0,I._)(this,r).dataUpdatedAt,e);(0,q._)(this,p,Y.timeoutManager.setTimeout(()=>{(0,I._)(this,r).isStale||this.updateResult()},t+1))}function er(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval((0,I._)(this,i)):this.options.refetchInterval)&&e}function el(e){(0,B._)(this,C,eh).call(this),(0,q._)(this,_,e),!X.isServer&&!1!==(0,X.resolveEnabled)(this.options.enabled,(0,I._)(this,i))&&(0,X.isValidTimeout)((0,I._)(this,_))&&0!==(0,I._)(this,_)&&(0,q._)(this,v,Y.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||H.focusManager.isFocused())&&(0,B._)(this,y,ei).call(this)},(0,I._)(this,_)))}function en(){(0,B._)(this,m,ea).call(this),(0,B._)(this,g,el).call(this,(0,B._)(this,b,er).call(this))}function eo(){(0,I._)(this,p)&&(Y.timeoutManager.clearTimeout((0,I._)(this,p)),(0,q._)(this,p,void 0))}function eh(){(0,I._)(this,v)&&(Y.timeoutManager.clearInterval((0,I._)(this,v)),(0,q._)(this,v,void 0))}function eu(){let e=(0,I._)(this,s).getQueryCache().build((0,I._)(this,s),this.options);if(e===(0,I._)(this,i))return;let t=(0,I._)(this,i);(0,q._)(this,i,e),(0,q._)(this,a,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}function ec(e){V.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e((0,I._)(this,r))}),(0,I._)(this,s).getQueryCache().notify({query:(0,I._)(this,i),type:"observerResultsUpdated"})})}var ed=e.i(912598);e.i(843476);var ep=P.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),ev=P.createContext(!1);ev.Provider;var e_=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function ef(e,t){return function(e,t,s){var i,a,r,l,n;let o=P.useContext(ev),h=P.useContext(ep),u=(0,ed.useQueryClient)(s),c=u.defaultQueryOptions(e);if(null==(a=u.getDefaultOptions().queries)||null==(i=a._experimental_beforeQuery)||i.call(a,c),c._optimisticResults=o?"isRestoring":"optimistic",c.suspense){let e=e=>"static"===e?e:Math.max(null!=e?e:1e3,1e3),t=c.staleTime;c.staleTime="function"==typeof t?function(){for(var s=arguments.length,i=Array(s),a=0;a<s;a++)i[a]=arguments[a];return e(t(...i))}:e(t),"number"==typeof c.gcTime&&(c.gcTime=Math.max(c.gcTime,1e3))}(c.suspense||c.throwOnError||c.experimental_prefetchInRender)&&!h.isReset()&&(c.retryOnMount=!1),P.useEffect(()=>{h.clearReset()},[h]);let d=!u.getQueryCache().get(c.queryHash),[p]=P.useState(()=>new t(u,c)),v=p.getOptimisticResult(c),_=!o&&!1!==e.subscribed;if(P.useSyncExternalStore(P.useCallback(e=>{let t=_?p.subscribe(V.notifyManager.batchCalls(e)):X.noop;return p.updateResult(),t},[p,_]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),P.useEffect(()=>{p.setOptions(c)},[c,p]),(null==c?void 0:c.suspense)&&v.isPending)throw e_(c,p,h);if((e=>{let{result:t,errorResetBoundary:s,throwOnError:i,query:a,suspense:r}=e;return t.isError&&!s.isReset()&&!t.isFetching&&a&&(r&&void 0===t.data||(0,X.shouldThrowError)(i,[t.error,a]))})({result:v,errorResetBoundary:h,throwOnError:c.throwOnError,query:u.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw v.error;if(null==(l=u.getDefaultOptions().queries)||null==(r=l._experimental_afterQuery)||r.call(l,c,v),c.experimental_prefetchInRender&&!X.isServer&&v.isLoading&&v.isFetching&&!o){let e=d?e_(c,p,h):null==(n=u.getQueryCache().get(c.queryHash))?void 0:n.promise;null==e||e.catch(X.noop).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?v:p.trackResult(v)}(e,Z,t)}e.s(["useQuery",()=>ef],266027);var ey=e.i(114272),em=G,eb=(k=new WeakMap,O=new WeakMap,R=new WeakMap,T=new WeakMap,E=new WeakSet,M=new WeakSet,class extends em.Subscribable{bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;let s=this.options;this.options=(0,I._)(this,k).defaultMutationOptions(e),(0,X.shallowEqualObjects)(this.options,s)||(0,I._)(this,k).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,I._)(this,R),observer:this}),(null==s?void 0:s.mutationKey)&&this.options.mutationKey&&(0,X.hashKey)(s.mutationKey)!==(0,X.hashKey)(this.options.mutationKey)?this.reset():(null==(t=(0,I._)(this,R))?void 0:t.state.status)==="pending"&&(0,I._)(this,R).setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=(0,I._)(this,R))||e.removeObserver(this)}}onMutationUpdate(e){(0,B._)(this,E,eg).call(this),(0,B._)(this,M,ew).call(this,e)}getCurrentResult(){return(0,I._)(this,O)}reset(){var e;null==(e=(0,I._)(this,R))||e.removeObserver(this),(0,q._)(this,R,void 0),(0,B._)(this,E,eg).call(this),(0,B._)(this,M,ew).call(this)}mutate(e,t){var s;return(0,q._)(this,T,t),null==(s=(0,I._)(this,R))||s.removeObserver(this),(0,q._)(this,R,(0,I._)(this,k).getMutationCache().build((0,I._)(this,k),this.options)),(0,I._)(this,R).addObserver(this),(0,I._)(this,R).execute(e)}constructor(e,t){super(),(0,K._)(this,E),(0,K._)(this,M),(0,F._)(this,k,{writable:!0,value:void 0}),(0,F._)(this,O,{writable:!0,value:void 0}),(0,F._)(this,R,{writable:!0,value:void 0}),(0,F._)(this,T,{writable:!0,value:void 0}),(0,q._)(this,k,e),this.setOptions(t),this.bindMethods(),(0,B._)(this,E,eg).call(this)}});function eg(){var e,t;let s=null!=(t=null==(e=(0,I._)(this,R))?void 0:e.state)?t:(0,ey.getDefaultState)();(0,q._)(this,O,(0,z._)((0,L._)({},s),{isPending:"pending"===s.status,isSuccess:"success"===s.status,isError:"error"===s.status,isIdle:"idle"===s.status,mutate:this.mutate,reset:this.reset}))}function ew(e){V.notifyManager.batch(()=>{if((0,I._)(this,T)&&this.hasListeners()){var t,s,i,a,r,l,n,o;let h=(0,I._)(this,O).variables,u=(0,I._)(this,O).context,c={client:(0,I._)(this,k),meta:this.options.meta,mutationKey:this.options.mutationKey};(null==e?void 0:e.type)==="success"?(null==(t=(s=(0,I._)(this,T)).onSuccess)||t.call(s,e.data,h,u,c),null==(i=(a=(0,I._)(this,T)).onSettled)||i.call(a,e.data,null,h,u,c)):(null==e?void 0:e.type)==="error"&&(null==(r=(l=(0,I._)(this,T)).onError)||r.call(l,e.error,h,u,c),null==(n=(o=(0,I._)(this,T)).onSettled)||n.call(o,void 0,e.error,h,u,c))}this.listeners.forEach(e=>{e((0,I._)(this,O))})})}function ex(e,t){let s=(0,ed.useQueryClient)(t),[i]=P.useState(()=>new eb(s,e));P.useEffect(()=>{i.setOptions(e)},[i,e]);let a=P.useSyncExternalStore(P.useCallback(e=>i.subscribe(V.notifyManager.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),r=P.useCallback((e,t)=>{i.mutate(e,t).catch(X.noop)},[i]);if(a.error&&(0,X.shouldThrowError)(i.options.throwOnError,[a.error]))throw a.error;return(0,z._)((0,L._)({},a),{mutate:r,mutateAsync:a.mutate})}e.s(["useMutation",()=>ex],954616)},382717,e=>{"use strict";var t=e.i(494489);e.s(["DatePicker",()=>t.default])},560219,e=>{"use strict";var t=e.i(843476),s=e.i(120786),i=e.i(92808),a=e.i(271645),r=e.i(175712),l=e.i(291542),n=e.i(898586),o=e.i(770914),h=e.i(262218),u=e.i(464571),c=e.i(212931),d=e.i(382717),p=e.i(199133),v=e.i(872238),_=e.i(906579),f=e.i(621192),y=e.i(178654),m=e.i(857521),b=e.i(123521),g=e.i(87319),w=e.i(928685),x=e.i(737434),C=e.i(166540),j=e.i(799718);let{Title:S}=n.Typography,{RangePicker:k}=d.DatePicker,{Option:O}=p.Select,R=e=>{var d;let{initialFilters:R={}}=e,[T,E]=a.default.useState(!1),[M,W]=a.default.useState(R),[P,D]=a.default.useState(null),{data:Q={data:[],total:0,page:1,limit:10},isLoading:U}=(0,j.useEvents)(M);(0,j.useUpdateEventStatus)(),(0,j.useDeleteEvent)();let I={low:"green",medium:"orange",high:"red",critical:"red"},F={Person:"#1890ff",Car:"#52c41a",Truck:"#faad14",Bag:"#f5222d",Bicycle:"#722ed1"},q=[{title:"ID",dataIndex:"id",key:"id",sorter:(e,t)=>e.id-t.id},{title:"Rule",dataIndex:["metadata","rule"],key:"rule",sorter:(e,t)=>{var s,i;return((null==(s=e.metadata)?void 0:s.rule)||"").localeCompare((null==(i=t.metadata)?void 0:i.rule)||"")}},{title:"Camera",dataIndex:"cameraName",key:"cameraName",sorter:(e,t)=>e.cameraName.localeCompare(t.cameraName)},{title:"Object",dataIndex:"objectType",key:"objectType",render:e=>(0,t.jsx)(h.Tag,{color:F[e]||"default",children:e}),sorter:(e,t)=>e.objectType.localeCompare(t.objectType)},{title:"Timestamp",dataIndex:"timestamp",key:"timestamp",sorter:(e,t)=>(0,C.default)(e.timestamp).diff((0,C.default)(t.timestamp))},{title:"Confidence",dataIndex:"confidence",key:"confidence",render:e=>"".concat((100*e).toFixed(1),"%"),sorter:(e,t)=>e.confidence-t.confidence},{title:"Severity",dataIndex:"severity",key:"severity",render:e=>(0,t.jsx)(h.Tag,{color:I[e],children:e.toUpperCase()}),sorter:(e,t)=>e.severity.localeCompare(t.severity),filters:[{text:"Low",value:"low"},{text:"Medium",value:"medium"},{text:"High",value:"high"},{text:"Critical",value:"critical"}],onFilter:(e,t)=>t.severity===e},{title:"Status",key:"resolved",render:(e,s)=>{var i,a;return(0,t.jsx)(_.Badge,{status:(null==(i=s.metadata)?void 0:i.resolved)?"success":"error",text:(null==(a=s.metadata)?void 0:a.resolved)?"Resolved":"Pending"})},filters:[{text:"Resolved",value:!0},{text:"Pending",value:!1}],onFilter:(e,t)=>{var s;return(null==(s=t.metadata)?void 0:s.resolved)===e}},{title:"Actions",key:"actions",render:(e,s)=>(0,t.jsxs)(o.Space,{size:"middle",children:[(0,t.jsx)(u.Button,{type:"link",icon:(0,t.jsx)(b.EyeOutlined,{}),onClick:()=>D(s),children:"View"}),(0,t.jsx)(u.Button,{type:"link",icon:(0,t.jsx)(x.DownloadOutlined,{}),onClick:()=>B(s),children:"Clip"})]})}],B=e=>{console.log("Download clip for event:",e)},K=e=>{W((0,s._)({},M,e))};return(0,t.jsxs)("div",{style:{padding:"24px"},children:[(0,t.jsxs)(f.Row,{justify:"space-between",align:"middle",style:{marginBottom:24},children:[(0,t.jsx)(y.Col,{children:(0,t.jsxs)(S,{level:2,children:[(0,t.jsx)(m.AlertOutlined,{})," Events"]})}),(0,t.jsx)(y.Col,{children:(0,t.jsxs)(o.Space,{children:[(0,t.jsx)(k,{onChange:(e,t)=>{if(e)K({startDate:t[0],endDate:t[1]});else{let e=(0,s._)({},M);delete e.startDate,delete e.endDate,W(e)}}}),(0,t.jsx)(u.Button,{icon:(0,t.jsx)(g.FilterOutlined,{}),onClick:()=>E(!T),children:"Filters"})]})})]}),T&&(0,t.jsx)(r.Card,{style:{marginBottom:24},children:(0,t.jsxs)(f.Row,{gutter:16,children:[(0,t.jsx)(y.Col,{span:8,children:(0,t.jsxs)(p.Select,{style:{width:"100%"},placeholder:"Filter by camera",onChange:e=>K({cameraId:e}),allowClear:!0,children:[(0,t.jsx)(O,{value:"Entrance Cam 1",children:"Entrance Cam 1"}),(0,t.jsx)(O,{value:"Parking Cam 2",children:"Parking Cam 2"}),(0,t.jsx)(O,{value:"Gate Cam 3",children:"Gate Cam 3"}),(0,t.jsx)(O,{value:"Warehouse Cam 1",children:"Warehouse Cam 1"}),(0,t.jsx)(O,{value:"Perimeter Cam 4",children:"Perimeter Cam 4"})]})}),(0,t.jsx)(y.Col,{span:8,children:(0,t.jsxs)(p.Select,{style:{width:"100%"},placeholder:"Filter by object type",onChange:e=>K({objectType:e}),allowClear:!0,children:[(0,t.jsx)(O,{value:"Person",children:"Person"}),(0,t.jsx)(O,{value:"Car",children:"Car"}),(0,t.jsx)(O,{value:"Truck",children:"Truck"}),(0,t.jsx)(O,{value:"Bag",children:"Bag"}),(0,t.jsx)(O,{value:"Bicycle",children:"Bicycle"})]})}),(0,t.jsx)(y.Col,{span:8,children:(0,t.jsx)(v.Input,{placeholder:"Search events...",prefix:(0,t.jsx)(w.SearchOutlined,{}),onChange:e=>K({search:e.target.value})})})]})}),(0,t.jsx)(r.Card,{children:(0,t.jsx)(l.Table,{columns:q,dataSource:Q.data,loading:U,rowKey:"id",pagination:{pageSize:Q.limit,total:Q.total,current:Q.page,onChange:(e,t)=>W((0,i._)((0,s._)({},M),{page:e,limit:t}))},scroll:{x:1200}})}),(0,t.jsx)(c.Modal,{title:"Event Details",open:!!P,onCancel:()=>D(null),footer:[(0,t.jsx)(u.Button,{onClick:()=>D(null),children:"Close"},"close")],children:P&&(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Typography.Title,{level:4,children:P.cameraName}),(0,t.jsxs)(n.Typography.Paragraph,{children:[(0,t.jsx)("strong",{children:"Object:"})," ",P.objectType]}),(0,t.jsxs)(n.Typography.Paragraph,{children:[(0,t.jsx)("strong",{children:"Timestamp:"})," ",P.timestamp]}),(0,t.jsxs)(n.Typography.Paragraph,{children:[(0,t.jsx)("strong",{children:"Confidence:"})," ",(100*P.confidence).toFixed(1),"%"]}),(0,t.jsxs)(n.Typography.Paragraph,{children:[(0,t.jsx)("strong",{children:"Severity:"})," ",P.severity.toUpperCase()]}),(0,t.jsxs)(n.Typography.Paragraph,{children:[(0,t.jsx)("strong",{children:"Status:"})," ",(null==(d=P.metadata)?void 0:d.resolved)?"Resolved":"Pending"]})]})})]})};e.s(["default",0,()=>(0,t.jsx)(R,{})],560219)}]);