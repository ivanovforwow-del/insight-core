(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,637235,e=>{"use strict";var t=e.i(715902);e.s(["ClockCircleOutlined",()=>t.default])},543650,e=>{"use strict";e.i(247167);var t=e.i(931067),a=e.i(271645);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM712 792H136V232h576v560zm176-167l-104-59.8V458.9L888 399v226zM208 360h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H208c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"video-camera",theme:"outlined"};var s=e.i(9583),l=a.forwardRef(function(e,l){return a.createElement(s.default,(0,t.default)({},e,{ref:l,icon:i}))});e.s(["VideoCameraOutlined",0,l],543650)},175712,e=>{"use strict";var t=e.i(226240);e.s(["Card",()=>t.default])},621192,178654,e=>{"use strict";var t=e.i(649536);e.s(["Row",()=>t.default],621192);var a=e.i(571610);e.s(["Col",()=>a.default],178654)},770914,e=>{"use strict";var t=e.i(38243);e.s(["Space",()=>t.default])},898586,e=>{"use strict";var t=e.i(777380);e.s(["Typography",()=>t.default])},262218,e=>{"use strict";var t=e.i(746885);e.s(["Tag",()=>t.default])},245704,e=>{"use strict";e.i(247167);var t=e.i(931067),a=e.i(271645);let i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var s=e.i(9583),l=a.forwardRef(function(e,l){return a.createElement(s.default,(0,t.default)({},e,{ref:l,icon:i}))});e.s(["CheckCircleOutlined",0,l],245704)},262696,e=>{"use strict";var t=e.i(266027),a=e.i(954616),i=e.i(912598),s=e.i(816973);let l="/alerts",r=async e=>(await s.default.get(l,{params:e})).data,n=async e=>(await s.default.patch("".concat(l,"/").concat(e,"/read"))).data,u=async()=>{await s.default.patch("".concat(l,"/read-all"))},c=async e=>{await s.default.delete("".concat(l,"/").concat(e))},d=async()=>{await s.default.delete("".concat(l,"/all"))},o={all:["alerts"],lists:()=>[...o.all,"list"],list:e=>[...o.lists(),e],details:()=>[...o.all,"detail"],detail:e=>[...o.details(),e],unreadCount:()=>[...o.all,"unreadCount"],recent:e=>[...o.all,"recent",e]};e.s(["useAlerts",0,e=>(0,t.useQuery)({queryKey:o.list(e),queryFn:()=>r(e),staleTime:3e3}),"useDeleteAlert",0,()=>{let e=(0,i.useQueryClient)();return(0,a.useMutation)({mutationFn:e=>c(e),onSuccess:()=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.unreadCount()})}})},"useDeleteAllAlerts",0,()=>{let e=(0,i.useQueryClient)();return(0,a.useMutation)({mutationFn:()=>d(),onSuccess:()=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.unreadCount()})}})},"useMarkAlertAsRead",0,()=>{let e=(0,i.useQueryClient)();return(0,a.useMutation)({mutationFn:e=>n(e),onSuccess:(t,a)=>{e.invalidateQueries({queryKey:o.detail(a)}),e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.unreadCount()})}})},"useMarkAllAlertsAsRead",0,()=>{let e=(0,i.useQueryClient)();return(0,a.useMutation)({mutationFn:()=>u(),onSuccess:()=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.unreadCount()})}})}],262696)},952683,e=>{"use strict";var t=e.i(843476),a=e.i(175712),i=e.i(621192),s=e.i(178654),l=e.i(475538);e.i(770914);var r=e.i(898586),n=e.i(262218),u=e.i(543650),c=e.i(857521),d=e.i(245704),o=e.i(637235);e.i(771674),e.i(598549),e.i(247167);var v=e.i(931067),h=e.i(271645);let y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z"}}]},name:"dashboard",theme:"outlined"};var x=e.i(9583),C=h.forwardRef(function(e,t){return h.createElement(x.default,(0,v.default)({},e,{ref:t,icon:y}))}),m=e.i(266027),f=e.i(509694),j=e.i(475225),p=e.i(785183),g=e.i(93230),T=e.i(872526),w=e.i(234239),A=e.i(559559),K=e.i(731195),M=e.i(841891),b=e.i(438814),z=e.i(322787),Q=e.i(228357),R=e.i(799718),q=e.i(262696);let{Title:B,Text:F}=r.Typography,E=[{name:"Person",value:56},{name:"Vehicle",value:32},{name:"Car",value:28},{name:"Truck",value:12},{name:"Bicycle",value:8}],S=[{hour:"00:00",events:2},{hour:"01:00",events:1},{hour:"02:00",events:0},{hour:"03:00",events:1},{hour:"04:00",events:3},{hour:"05:00",events:5},{hour:"06:00",events:8},{hour:"07:00",events:12},{hour:"08:00",events:15},{hour:"09:00",events:18},{hour:"10:00",events:2},{hour:"11:00",events:19},{hour:"12:00",events:16},{hour:"13:00",events:14},{hour:"14:00",events:17},{hour:"15:00",events:20},{hour:"16:00",events:24},{hour:"17:00",events:21},{hour:"18:00",events:18},{hour:"19:00",events:15},{hour:"20:00",events:12},{hour:"21:00",events:9},{hour:"22:00",events:6},{hour:"23:00",events:4}],k=["#008FE","#0C49F","#FFBB28","#FF8042","#8884D8"],L={low:"green",medium:"orange",high:"red",critical:"red"};e.s(["default",0,()=>{let{data:e,isLoading:r}=(0,Q.useCameras)(),{data:v,isLoading:h}=(0,R.useEvents)({limit:5}),{data:y,isLoading:x}=(0,q.useAlerts)({limit:5}),{data:O}=(0,m.useQuery)({queryKey:["dashboard-stats"],queryFn:async()=>({totalCameras:(null==e?void 0:e.length)||0,activeCameras:(null==e?void 0:e.filter(e=>"active"===e.status).length)||0,totalEvents:(null==v?void 0:v.total)||0,eventsToday:24,alertsToday:(null==y?void 0:y.total)||0,totalVideos:156,processingTime:"2.3s",systemUptime:"99.9%"})});return(0,t.jsxs)("div",{style:{padding:"24px"},children:[(0,t.jsxs)(B,{level:2,children:[(0,t.jsx)(C,{})," Dashboard"]}),(0,t.jsxs)(i.Row,{gutter:16,style:{marginBottom:24},children:[(0,t.jsx)(s.Col,{span:6,children:(0,t.jsx)(a.Card,{children:(0,t.jsx)(l.Statistic,{title:"Total Cameras",value:(null==O?void 0:O.totalCameras)||0,prefix:(0,t.jsx)(u.VideoCameraOutlined,{}),suffix:"/ ".concat((null==O?void 0:O.activeCameras)||0," active")})})}),(0,t.jsx)(s.Col,{span:6,children:(0,t.jsx)(a.Card,{children:(0,t.jsx)(l.Statistic,{title:"Total Events",value:(null==O?void 0:O.totalEvents)||0,prefix:(0,t.jsx)(c.AlertOutlined,{})})})}),(0,t.jsx)(s.Col,{span:6,children:(0,t.jsx)(a.Card,{children:(0,t.jsx)(l.Statistic,{title:"Events Today",value:(null==O?void 0:O.eventsToday)||0,prefix:(0,t.jsx)(o.ClockCircleOutlined,{})})})}),(0,t.jsx)(s.Col,{span:6,children:(0,t.jsx)(a.Card,{children:(0,t.jsx)(l.Statistic,{title:"Alerts Today",value:(null==O?void 0:O.alertsToday)||0,prefix:(0,t.jsx)(d.CheckCircleOutlined,{})})})})]}),(0,t.jsxs)(i.Row,{gutter:16,style:{marginBottom:24},children:[(0,t.jsx)(s.Col,{span:16,children:(0,t.jsx)(a.Card,{title:"Events by Hour",style:{height:300},children:(0,t.jsx)(K.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(f.BarChart,{data:S,children:[(0,t.jsx)(T.CartesianGrid,{strokeDasharray:"3 3"}),(0,t.jsx)(p.XAxis,{dataKey:"hour"}),(0,t.jsx)(g.YAxis,{}),(0,t.jsx)(w.Tooltip,{}),(0,t.jsx)(A.Legend,{}),(0,t.jsx)(j.Bar,{dataKey:"events",fill:"#1890ff"})]})})})}),(0,t.jsx)(s.Col,{span:8,children:(0,t.jsx)(a.Card,{title:"Events by Type",style:{height:300},children:(0,t.jsx)(K.ResponsiveContainer,{width:"10%",height:"100%",children:(0,t.jsxs)(M.PieChart,{children:[(0,t.jsx)(b.Pie,{data:E,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return"".concat(t," ").concat((100*a).toFixed(0),"%")},outerRadius:80,fill:"#884d8",dataKey:"value",children:E.map((e,a)=>(0,t.jsx)(z.Cell,{fill:k[a%k.length]},"cell-".concat(a)))}),(0,t.jsx)(w.Tooltip,{})]})})})})]}),(0,t.jsx)(i.Row,{gutter:16,children:(0,t.jsx)(s.Col,{span:24,children:(0,t.jsx)(a.Card,{title:"Recent Events",children:(0,t.jsx)("div",{children:(null==v?void 0:v.data)&&v.data.length>0?(0,t.jsx)("div",{children:v.data.map(e=>(0,t.jsxs)("div",{style:{padding:"8px 0",borderBottom:"1px solid #f0f0"},children:[(0,t.jsxs)(F,{strong:!0,children:["ID: ",e.id]})," -",(0,t.jsxs)(F,{children:[" ",e.cameraName]})," -",(0,t.jsxs)(F,{children:[" ",e.objectType]})," -",(0,t.jsxs)(F,{children:[" ",e.timestamp]})," -",(0,t.jsx)(n.Tag,{color:L[e.severity],children:e.severity.toUpperCase()})]},e.id))}):(0,t.jsx)(F,{children:"No recent events"})})})})})]})}],952683)}]);