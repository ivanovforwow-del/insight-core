(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,123521,e=>{"use strict";var t=e.i(984125);e.s(["EyeOutlined",()=>t.default])},382717,e=>{"use strict";var t=e.i(494489);e.s(["DatePicker",()=>t.default])},291542,e=>{"use strict";var t=e.i(221479);e.s(["Table",()=>t.default])},199133,e=>{"use strict";var t=e.i(327494);e.s(["Select",()=>t.default])},175712,e=>{"use strict";var t=e.i(226240);e.s(["Card",()=>t.default])},898586,e=>{"use strict";var t=e.i(777380);e.s(["Typography",()=>t.default])},770914,e=>{"use strict";var t=e.i(38243);e.s(["Space",()=>t.default])},262218,e=>{"use strict";var t=e.i(746885);e.s(["Tag",()=>t.default])},621192,178654,e=>{"use strict";var t=e.i(649536);e.s(["Row",()=>t.default],621192);var a=e.i(571610);e.s(["Col",()=>a.default],178654)},464571,e=>{"use strict";var t=e.i(920228);e.s(["Button",()=>t.default])},212931,e=>{"use strict";var t=e.i(687518);e.s(["Modal",()=>t.default])},262696,e=>{"use strict";var t=e.i(266027),a=e.i(954616),l=e.i(912598),i=e.i(816973);let r="/alerts",s=async e=>(await i.default.get(r,{params:e})).data,n=async e=>(await i.default.patch("".concat(r,"/").concat(e,"/read"))).data,d=async()=>{await i.default.patch("".concat(r,"/read-all"))},u=async e=>{await i.default.delete("".concat(r,"/").concat(e))},c=async()=>{await i.default.delete("".concat(r,"/all"))},o={all:["alerts"],lists:()=>[...o.all,"list"],list:e=>[...o.lists(),e],details:()=>[...o.all,"detail"],detail:e=>[...o.details(),e],unreadCount:()=>[...o.all,"unreadCount"],recent:e=>[...o.all,"recent",e]};e.s(["useAlerts",0,e=>(0,t.useQuery)({queryKey:o.list(e),queryFn:()=>s(e),staleTime:3e3}),"useDeleteAlert",0,()=>{let e=(0,l.useQueryClient)();return(0,a.useMutation)({mutationFn:e=>u(e),onSuccess:()=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.unreadCount()})}})},"useDeleteAllAlerts",0,()=>{let e=(0,l.useQueryClient)();return(0,a.useMutation)({mutationFn:()=>c(),onSuccess:()=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.unreadCount()})}})},"useMarkAlertAsRead",0,()=>{let e=(0,l.useQueryClient)();return(0,a.useMutation)({mutationFn:e=>n(e),onSuccess:(t,a)=>{e.invalidateQueries({queryKey:o.detail(a)}),e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.unreadCount()})}})},"useMarkAllAlertsAsRead",0,()=>{let e=(0,l.useQueryClient)();return(0,a.useMutation)({mutationFn:()=>d(),onSuccess:()=>{e.invalidateQueries({queryKey:o.lists()}),e.invalidateQueries({queryKey:o.unreadCount()})}})}],262696)},905028,e=>{"use strict";var t=e.i(120786),a=e.i(92808),l=e.i(843476),i=e.i(271645),r=e.i(175712),s=e.i(291542),n=e.i(898586),d=e.i(770914),u=e.i(262218),c=e.i(464571),o=e.i(212931),h=e.i(382717),y=e.i(199133),p=e.i(872238),x=e.i(906579),g=e.i(621192),j=e.i(178654),f=e.i(857521),v=e.i(123521),m=e.i(245704),C=e.i(87319),A=e.i(928685),k=e.i(737434);e.i(247167);var w=e.i(931067);let S={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};var T=e.i(9583),M=i.forwardRef(function(e,t){return i.createElement(T.default,(0,w.default)({},e,{ref:t,icon:S}))});let R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};var B=i.forwardRef(function(e,t){return i.createElement(T.default,(0,w.default)({},e,{ref:t,icon:R}))}),D=e.i(166540),Q=e.i(262696);let{Title:K}=n.Typography,{RangePicker:b}=h.DatePicker,{Option:O}=y.Select;e.s(["default",0,()=>{let[e,h]=(0,i.useState)(!1),[w,S]=(0,i.useState)({}),[T,R]=(0,i.useState)(null),{data:q={data:[],total:0,page:1,limit:10},isLoading:F}=(0,Q.useAlerts)(w),P=(0,Q.useMarkAlertAsRead)();(0,Q.useMarkAllAlertsAsRead)(),(0,Q.useDeleteAlert)();let z=(0,Q.useDeleteAllAlerts)(),I={info:"blue",warning:"orange",error:"red",success:"green"},U={info:(0,l.jsx)(B,{}),warning:(0,l.jsx)(f.AlertOutlined,{}),error:(0,l.jsx)(M,{}),success:(0,l.jsx)(m.CheckCircleOutlined,{})},E=[{title:"ID",dataIndex:"id",key:"id",sorter:(e,t)=>e.id-t.id},{title:"Title",dataIndex:"title",key:"title",sorter:(e,t)=>e.title.localeCompare(t.title)},{title:"Message",dataIndex:"message",key:"message"},{title:"Type",dataIndex:"type",key:"type",render:e=>(0,l.jsx)(u.Tag,{color:I[e],icon:U[e],children:e.toUpperCase()}),sorter:(e,t)=>e.type.localeCompare(t.type),filters:[{text:"Info",value:"info"},{text:"Warning",value:"warning"},{text:"Error",value:"error"},{text:"Success",value:"success"}],onFilter:(e,t)=>t.type===e},{title:"Timestamp",dataIndex:"timestamp",key:"timestamp",sorter:(e,t)=>(0,D.default)(e.timestamp).diff((0,D.default)(t.timestamp))},{title:"Status",key:"read",render:(e,t)=>(0,l.jsx)(x.Badge,{status:t.read?"success":"error",text:t.read?"Read":"Unread"}),filters:[{text:"Read",value:!0},{text:"Unread",value:!1}],onFilter:(e,t)=>t.read===e},{title:"Actions",key:"actions",render:(e,t)=>(0,l.jsxs)(d.Space,{size:"middle",children:[(0,l.jsx)(c.Button,{type:"link",icon:(0,l.jsx)(v.EyeOutlined,{}),onClick:()=>R(t),children:"View"}),!t.read&&(0,l.jsx)(c.Button,{type:"link",icon:(0,l.jsx)(m.CheckCircleOutlined,{}),onClick:()=>P.mutate(t.id),loading:P.isPending&&P.variables===t.id,children:"Mark Read"}),(0,l.jsx)(c.Button,{type:"link",icon:(0,l.jsx)(k.DownloadOutlined,{}),onClick:()=>console.log("Download alert details:",t),children:"Export"})]})}],L=e=>{S((0,t._)({},w,e))};return(0,l.jsxs)("div",{style:{padding:"24px"},children:[(0,l.jsxs)(g.Row,{justify:"space-between",align:"middle",style:{marginBottom:24},children:[(0,l.jsx)(j.Col,{children:(0,l.jsxs)(K,{level:2,children:[(0,l.jsx)(f.AlertOutlined,{})," Alerts"]})}),(0,l.jsx)(j.Col,{children:(0,l.jsxs)(d.Space,{children:[(0,l.jsx)(c.Button,{danger:!0,onClick:()=>{o.Modal.confirm({title:"Clear All Alerts",content:"Are you sure you want to clear all alerts?",onOk:()=>z.mutate()})},loading:z.isPending,children:"Clear All"}),(0,l.jsx)(b,{onChange:(e,a)=>{if(e)L({startDate:a[0],endDate:a[1]});else{let e=(0,t._)({},w);delete e.startDate,delete e.endDate,S(e)}}}),(0,l.jsx)(c.Button,{icon:(0,l.jsx)(C.FilterOutlined,{}),onClick:()=>h(!e),children:"Filters"})]})})]}),e&&(0,l.jsx)(r.Card,{style:{marginBottom:24},children:(0,l.jsxs)(g.Row,{gutter:16,children:[(0,l.jsx)(j.Col,{span:8,children:(0,l.jsxs)(y.Select,{style:{width:"100%"},placeholder:"Filter by type",onChange:e=>L({type:e}),allowClear:!0,children:[(0,l.jsx)(O,{value:"info",children:"Info"}),(0,l.jsx)(O,{value:"warning",children:"Warning"}),(0,l.jsx)(O,{value:"error",children:"Error"}),(0,l.jsx)(O,{value:"success",children:"Success"})]})}),(0,l.jsx)(j.Col,{span:8,children:(0,l.jsxs)(y.Select,{style:{width:"100%"},placeholder:"Filter by status",onChange:e=>L({read:e}),allowClear:!0,children:[(0,l.jsx)(O,{value:!0,children:"Read"}),(0,l.jsx)(O,{value:!1,children:"Unread"})]})}),(0,l.jsx)(j.Col,{span:8,children:(0,l.jsx)(p.Input,{placeholder:"Search alerts...",prefix:(0,l.jsx)(A.SearchOutlined,{}),onChange:e=>L({search:e.target.value})})})]})}),(0,l.jsx)(r.Card,{children:(0,l.jsx)(s.Table,{columns:E,dataSource:q.data,loading:F||P.isPending,rowKey:"id",pagination:{pageSize:q.limit,total:q.total,current:q.page,onChange:(e,l)=>S((0,a._)((0,t._)({},w),{page:e,limit:l}))},scroll:{x:1200}})}),(0,l.jsx)(o.Modal,{title:"Alert Details",open:!!T,onCancel:()=>R(null),footer:[(0,l.jsx)(c.Button,{onClick:()=>R(null),children:"Close"},"close")],children:T&&(0,l.jsxs)("div",{children:[(0,l.jsx)(n.Typography.Title,{level:4,children:T.title}),(0,l.jsxs)(n.Typography.Paragraph,{children:[(0,l.jsx)("strong",{children:"Message:"})," ",T.message]}),(0,l.jsxs)(n.Typography.Paragraph,{children:[(0,l.jsx)("strong",{children:"Type:"})," ",T.type.toUpperCase()]}),(0,l.jsxs)(n.Typography.Paragraph,{children:[(0,l.jsx)("strong",{children:"Timestamp:"})," ",T.timestamp]}),(0,l.jsxs)(n.Typography.Paragraph,{children:[(0,l.jsx)("strong",{children:"Status:"})," ",T.read?"Read":"Unread"]})]})})]})}],905028)}]);